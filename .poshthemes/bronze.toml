# https://ohmyposh.dev/docs/configuration/title#console-title-template
#console_title_template = " {{ .Folder }} :: {{if .Root}}Admin{{end}}"
# console_title_template = " {{ .Shell }} :: {{ .Folder }}{{if .Root}} :: (Admin){{end}}"
console_title_template = "{{.PWD}}{{if .Root}} :: root{{end}} :: {{.Shell}}"
final_space = true
version = 3
terminal_background = "p:t-background"

[palette]
main-bg = "#2E3440"
terminal-red = "#BF616A"
pistachio-green = "#A3BE8C"
terminal-green = "#8FBCBB"
terminal-yellow = "#EBCB8B"
terminal-blue = "#5E81AC"
celeste-blue = "#88C0D0"
light-sky-blue = "#81A1C1"
terminal-white = "#E5E9F0"
white-blue = "#D8DEE9"
blue-bell = "#81A1C1"
pastal-grey = "#4C566A"
terminal-magenta = "#B48EAD"
blue-black = "#3B4252"
terminal-black = "#2E3440"
t-background = "p:main-bg"

[[blocks]]
type = "prompt"
alignment = "left"

  [[blocks.segments]]
  type = "text"
  style = "plain"
  background = "transparent"
  foreground = "p:terminal-blue"
  template = "➜ "

  [[blocks.segments]]
  type = "path"
  style = "plain"
  foreground = "p:terminal-magenta"
  template = "<b>{{ .Path }}</b> <p:light-sky-blue>⚡</>"
    [blocks.segments.properties]
    style = "folder"

  [[blocks.segments]]
  type = "git"
  style = "plain"
  foreground = "p:light-sky-blue"
  template = "({{ .HEAD }})"
  foreground_templates = [
    "{{ if or (.Working.Changed) (.Staging.Changed) }}p:terminal-red{{ end }}",
    "{{ if and (gt .Ahead 0) (gt .Behind 0)}}p:light-sky-blue{{ end }}",
    "{{ if gt .Ahead 0 }}p:terminal-blue{{ end }}",
    "{{ if gt .Behind 0 }}p:celeste-blue{{ end }}"
  ]
    [blocks.segments.properties]
    fetch_status = true
    branch_icon = "\ue725 "

  [[blocks.segments]]
  type = "status"
  style = "plain"
  foreground = "p:terminal-red"
  template = " \uf00d"

[[blocks]]
type = "prompt"
alignment = "right"
overflow = "hide"

  # Node + detecção de package manager com ícones Nerd Font
  [[blocks.segments]]
  type = "node"
  style = "plain"
  foreground = "p:pistachio-green"
  template = "{{ if .PackageManagerIcon }}{{ .PackageManagerIcon }} {{ end }}\ue718 {{ .Full }}"
    [blocks.segments.properties]
    display_mode = "files"
    fetch_package_manager = true
    fetch_version = true
    # Ícones Nerd Font por PM com cores Nord
    npm_icon  = "<#BF616A>\uE73E npm</>"
    yarn_icon = "<#81A1C1>\uE6A7 yarn</>"
    pnpm_icon = "<#A3BE8C>\uE7C4 pnpm</>"

  [[blocks.segments]]
  type = "php"
  style = "plain"
  foreground = "p:terminal-blue"
  template = "\ue73d {{ .Full }} "

  [[blocks.segments]]
  type = "python"
  style = "plain"
  foreground = "p:terminal-yellow"
  template = "\uE235 {{ .Full }}"

  [[blocks.segments]]
  type = "julia"
  style = "plain"
  foreground = "p:terminal-magenta"
  template = "\uE624 {{ .Full }}"

  [[blocks.segments]]
  type = "ruby"
  style = "plain"
  foreground = "p:terminal-red"
  template = "\uE791 {{ .Full }}"

  [[blocks.segments]]
  type = "go"
  style = "plain"
  foreground = "p:light-sky-blue"
  template = "\uFCD1 {{ .Full }}"

  [[blocks.segments]]
  type = "command"
  style = "plain"
  foreground = "p:white-blue"
    [blocks.segments.properties]
    command = "git log --pretty=format:%cr -1 || date +%H:%M:%S"
    shell = "bash"

  [[blocks.segments]]
  type = "time"
  style = "plain"
  foreground = "#88C0D0"
  template = "\uf017 {{ .CurrentDate | date .Format }}"
    [blocks.segments.properties]
    time_format = "15:04:05"

[[blocks]]
type = "prompt"
alignment = "left"
newline = true

  [[blocks.segments]]
  type = "text"
  style = "plain"
  foreground = "p:pistachio-green"
  template = "▶"

[secondary_prompt]
background = "transparent"
foreground = "p:terminal-blue"
template = "➜ "

[transient_prompt]
background = "p:t-background"
foreground = "p:terminal-blue"
template = "▶ "
